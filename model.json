{
    "code": "bill_stock_monitor",
    "events": [],
    "ext": "bill_data_ext_stock",
    "formula": [],
    "layout": "list",
    "lm_ts": 1480997428018,
    "main": {
        "actions": [{
            "code": "edit",
            "handler": "false"
        }, {
            "code": "delete",
            "handler": "false"
        }, {
            "code": "add",
            "handler": "false"
        }, {
            "bill_code": "bill_stock_monitor_gen_purchase",
            "code": "gen_purchase",
            "handler": "purchase.init(this,action)",
            "name": "生成采购单",
            "pos": "1",
            "type": "custom"
        }, {
            "bill_code": "bill_ao_gen_whgoods",
            "code": "gen_whgoods",
            "handler": "inventory",
            "name": "生成调拨单",
            "param": {
                "url": "service/erp/ao/skustock/bill_ao_gen_whgoods"
            },
            "pos": "2",
            "type": "custom"
        }, {
            "code": "sync_stock",
            "name": "库存同步",
            "pos": "2",
            "scope": "row",
            "type": "process",
            "url": "service/erp/stock/sync"
        }, {
            "code": "exchange",
            "name": "兑换",
            "pos": "3",
            "scope": "row",
            "type": "process",
            "url": "service/erp/stock/exchange"
        }, {
            "code": "export",
            "name": "导出",
            "param": {
                "export_code": "stock_short_export"
            },
            "pos": "3",
            "type": "export"
        }],
        "code": "ht_erp_stock",
        "col_count": 1,
        "fields": [{
            "cardpos": 0,
            "code": "id",
            "editable": true,
            "listpos": 0,
            "lm_ts": 1480997428018,
            "name": "业务主键",
            "required": true,
            "scope": "data",
            "status": 5,
            "tip": "提示信息",
            "type": "code"
        }, {
            "cardpos": 0,
            "code": "account_crt_id",
            "def_value": "{{account_id}}",
            "editable": false,
            "listpos": 0,
            "lm_ts": 1480997428018,
            "name": "创建人",
            "rangeset": "db_account",
            "required": true,
            "scope": "both",
            "status": 5,
            "tip": "提示信息",
            "tpl": "{{account_crt_id_name}}",
            "type": "ref"
        }, {
            "cardpos": 0,
            "code": "tenantry_id",
            "def_value": "${current_tenantry.id}",
            "editable": false,
            "listpos": 0,
            "lm_ts": 1480997428018,
            "name": "租户id",
            "rangeset": "db_tenantry",
            "required": true,
            "scope": "data",
            "status": 5,
            "tip": "提示信息",
            "tpl": "{{tenantry_id_name}}",
            "type": "ref"
        }, {
            "cardpos": 1,
            "code": "status",
            "def_value": "0",
            "editable": true,
            "listpos": 0,
            "lm_ts": 1480997428018,
            "name": "状态",
            "rangeset": "0:编辑@1:发布@3:完成",
            "required": true,
            "scope": "data",
            "status": 5,
            "tip": "提示信息",
            "type": "stat"
        }, {
            "cardpos": 2,
            "code": "crt_ts",
            "def_value": "now()",
            "editable": true,
            "listpos": 0,
            "lm_ts": 1480997428018,
            "name": "创建时间",
            "required": true,
            "scope": "data",
            "status": 5,
            "tip": "提示信息",
            "type": "timestamp"
        }, {
            "cardpos": 3,
            "code": "lm_ts",
            "editable": true,
            "listpos": 0,
            "lm_ts": 1480997428018,
            "name": "最后修改时间",
            "required": true,
            "scope": "data",
            "status": 5,
            "tip": "提示信息",
            "type": "timestamp"
        }, {
            "cardpos": 4,
            "code": "warehouse_id",
            "editable": true,
            "listpos": 2,
            "lm_ts": 1480997428018,
            "name": "仓库",
            "rangeset": "{\"tpl_res\":\"{{name}}\",\"code\":\"db_warehouse\",\"tpl_list\":\"{{name}}\"}",
            "required": true,
            "scope": "both",
            "status": 5,
            "tip": "提示信息",
            "tpl": "{{warehouse_id_name}}",
            "type": "ref"
        }, {
            "cardpos": 5,
            "code": "warehouse_zone_id",
            "editable": true,
            "listpos": 0,
            "lm_ts": 1480997428018,
            "name": "库区",
            "rangeset": "{\"tpl_res\":\"{{name}}\",\"code\":\"db_warehouse_zone\",\"tpl_list\":\"{{name}}\"}",
            "required": true,
            "scope": "both",
            "status": 5,
            "tip": "提示信息",
            "tpl": "{{warehouse_zone_id_name}}",
            "type": "ref"
        }, {
            "cardpos": 6,
            "code": "warehouse_location_id",
            "editable": true,
            "listpos": 0,
            "lm_ts": 1480997428018,
            "name": "库位",
            "rangeset": "{\"tpl_res\":\"{{name}}\",\"code\":\"db_warehouse_location\",\"tpl_list\":\"{{name}}\"}",
            "required": true,
            "scope": "both",
            "status": 5,
            "tip": "提示信息",
            "tpl": "{{warehouse_location_id_name}}",
            "type": "ref"
        }, {
            "cardpos": 0,
            "code": "goods_info",
            "editable": true,
            "listpos": 1,
            "lm_ts": 1480997428018,
            "name": "商品信息",
            "rangeset": "db_goods",
            "required": true,
            "scope": "data",
            "status": 0,
            "tip": "提示信息",
            "tpl": "商品名称:{{goods_id_name}}<br>sku编号:{{sku_code}}",
            "type": "ref"
        }, {
            "cardpos": 0,
            "code": "goods_id",
            "editable": true,
            "listpos": 0,
            "lm_ts": 1480997428018,
            "name": "商品",
            "rangeset": "{\"tpl_res\":\"{{name}}\",\"code\":\"db_goods\",\"tpl_list\":\"{{name}}\"}",
            "required": true,
            "scope": "both",
            "status": 5,
            "tip": "提示信息",
            "tpl": "{{goods_id_name}}",
            "type": "ref"
        }, {
            "cardpos": 7,
            "code": "sku_id",
            "editable": true,
            "listpos": 0,
            "lm_ts": 1480997428018,
            "name": "sku",
            "rangeset": "{\"tpl_res\":\"{{name}}\",\"code\":\"db_sku\",\"tpl_list\":\"{{name}}\"}",
            "required": true,
            "scope": "both",
            "status": 5,
            "tip": "提示信息",
            "tpl": "{{sku_id_name}}",
            "type": "ref"
        }, {
            "cardpos": 8,
            "code": "sku_code",
            "editable": true,
            "listpos": 0,
            "lm_ts": 1480997428018,
            "name": "sku编码",
            "required": true,
            "scope": "both",
            "status": 5,
            "tip": "提示信息",
            "type": "code"
        }, {
            "cardpos": 9,
            "code": "sku_count",
            "editable": true,
            "listpos": 3,
            "lm_ts": 1480997428018,
            "name": "库存数量",
            "required": true,
            "scope": "data",
            "status": 5,
            "tip": "提示信息",
            "type": "integer"
        }, {
            "cardpos": 10,
            "code": "po_count",
            "editable": true,
            "listpos": 5,
            "lm_ts": 1480997428018,
            "name": "采购在途",
            "required": true,
            "scope": "data",
            "status": 5,
            "tip": "提示信息",
            "type": "integer"
        }, {
            "cardpos": 11,
            "code": "pco_count",
            "editable": true,
            "listpos": 0,
            "lm_ts": 1480997428018,
            "name": "采购换货",
            "required": true,
            "scope": "data",
            "status": 5,
            "tip": "提示信息",
            "type": "integer"
        }, {
            "cardpos": 12,
            "code": "pro_count",
            "editable": true,
            "listpos": 0,
            "lm_ts": 1480997428018,
            "name": "采购退货",
            "required": true,
            "scope": "data",
            "status": 5,
            "tip": "提示信息",
            "type": "integer"
        }, {
            "cardpos": 13,
            "code": "so_count",
            "def_value": "0",
            "editable": true,
            "listpos": 4,
            "lm_ts": 1480997428018,
            "name": "销售占货",
            "required": true,
            "scope": "data",
            "status": 5,
            "tip": "提示信息",
            "type": "integer"
        }, {
            "cardpos": 14,
            "code": "sro_count",
            "editable": true,
            "listpos": 0,
            "lm_ts": 1480997428018,
            "name": "销售退货",
            "required": true,
            "scope": "data",
            "status": 5,
            "tip": "提示信息",
            "type": "integer"
        }, {
            "cardpos": 15,
            "code": "sco_count",
            "def_value": "0",
            "editable": true,
            "listpos": 0,
            "lm_ts": 1480997428018,
            "name": "销售换货",
            "required": true,
            "scope": "data",
            "status": 5,
            "tip": "提示信息",
            "type": "code"
        }, {
            "cardpos": 16,
            "code": "ao_count",
            "editable": true,
            "listpos": 0,
            "lm_ts": 1480997428018,
            "name": "调拨",
            "required": true,
            "scope": "data",
            "status": 5,
            "tip": "提示信息",
            "type": "integer"
        }, {
            "cardpos": 17,
            "code": "uom_id",
            "editable": true,
            "listpos": 7,
            "lm_ts": 1480997428018,
            "name": "计量单位",
            "rangeset": "{\"tpl_res\":\"{{name}}\",\"code\":\"db_uom\",\"tpl_list\":\"{{name}}\"}",
            "required": false,
            "scope": "both",
            "status": 5,
            "tip": "提示信息",
            "tpl": "{{uom_id_name}}",
            "type": "ref"
        }, {
            "cardpos": 19,
            "code": "uom_stat",
            "editable": true,
            "listpos": 0,
            "lm_ts": 1480997428019,
            "name": "单位转换",
            "rangeset": "1:最小单位@3:原始单位@5:折算",
            "required": true,
            "scope": "param",
            "status": 0,
            "tip": "提示信息",
            "type": "stat"
        }, {
            "cardpos": 16,
            "code": "alarm_mode",
            "editable": true,
            "listpos": 0,
            "lm_ts": 1480997428019,
            "name": "实际库存小于",
            "rangeset": "0:销售占货@3:库存下限",
            "required": true,
            "scope": "param",
            "status": 0,
            "tip": "提示信息",
            "type": "stat"
        }],
        "lm_ts": 1480997428018,
        "name": "库存管理",
        "ref_type": "bridge",
        "status": 5
    },
    "slaves": [{
        "code": "ht_erp_stock_log",
        "col_count": 1,
        "fields": [{
            "cardpos": 0,
            "code": "order_code",
            "editable": true,
            "listpos": 1,
            "lm_ts": 1480997428018,
            "name": "业务单据",
            "required": true,
            "scope": "data",
            "status": 0,
            "tip": "提示信息",
            "tpl": "类型 {{type}}<br>单号 {{order_code}}",
            "type": "code"
        }, {
            "cardpos": 0,
            "code": "status",
            "editable": true,
            "listpos": 2,
            "lm_ts": 1480997428018,
            "name": "操作类型",
            "rangeset": "0:提交@3:撤回@5:none",
            "required": true,
            "scope": "data",
            "status": 0,
            "tip": "提示信息",
            "type": "stat"
        }, {
            "cardpos": 0,
            "code": "sku_count",
            "editable": true,
            "listpos": 2,
            "lm_ts": 1480997428018,
            "name": "实际库存(期初->期末)",
            "required": true,
            "scope": "data",
            "status": 0,
            "tip": "提示信息",
            "tpl": "{{sku_count_start}}->{{sku_count_end}}",
            "type": "integer"
        }, {
            "cardpos": 0,
            "code": "so_count",
            "editable": true,
            "listpos": 3,
            "lm_ts": 1480997428018,
            "name": "销售占货(期初->期末)",
            "required": true,
            "scope": "data",
            "status": 0,
            "tip": "提示信息",
            "tpl": "{{so_count_start}}->{{so_count_end}}",
            "type": "integer"
        }, {
            "cardpos": 0,
            "code": "po_count",
            "editable": true,
            "listpos": 3,
            "lm_ts": 1480997428018,
            "name": "采购在途(期初->期末)",
            "required": true,
            "scope": "data",
            "status": 0,
            "tip": "提示信息",
            "tpl": "{{po_count_start}}->{{po_count_end}}",
            "type": "integer"
        }, {
            "cardpos": 0,
            "code": "crt_ts",
            "editable": true,
            "listpos": 4,
            "lm_ts": 1480997428018,
            "name": "创建时间",
            "required": true,
            "scope": "data",
            "status": 5,
            "tip": "提示信息",
            "type": "timestamp"
        }],
        "lm_ts": 1480997428018,
        "name": "库存变化记录",
        "ref_type": "bridge",
        "status": 5
    }],
    "status": 5
}
